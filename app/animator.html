<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <title>Boats Animator</title>
    <!--NEEDS DOWNLOADED VERSIONS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,400italic,500,500italic,700,700italic,900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/animator.css">
    <script src="main.js" async></script>
</head>

<body class="animator" onload="startup()">
    <!--Notification Bar-->
    <section class="notification hidden">
        <p id="msg"></p>
    </section>

  <!--Sidebar content-->
    <div id="sidebar">
<!--        <div id="btn-sidebar-toggle" class="mediaControls"><i class="fa fa-bars fa-fw"></i></div>-->
        <div id="sidebar-content">

                <!--Onion Skinning Options-->
            <div class="sidebar-item" id="onion-skin-header">
                <div class="sidebar-header">
                    <h2><i class="fa fa-adjust fa-fw"></i> Onion Skinning</h2>
                </div>
                    <div id="btn-onion-skin-toggle" class="btn-sidebar"><i class="fa fa-toggle-off" title="Toggle on"></i> Off</div>
                <ul id="onion-skin-options">
                    <li><span id="onion-skin-percentage">50%</span>
                        <input id="input-onion-skin-opacity" class="sidebarOption" type="range" name="onionSkinAmount" min="0" max="20" value="10">
                    </li>
                </ul>
            </div>

            <!--Capture Options-->
            <div class="sidebar-item" id="capture-header">
                <div class="sidebar-header">
                    <h2><i class="fa fa-camera fa-fw"></i> Capture</h2>
                </div>
                <ul id="capture-options">
                  <li><i class="fa fa-sort-asc fa-rotate-90 sidebar-link-dot"></i><a href="#" onclick="alert('Coming soon!');">Change resolution</a></li>
                  <li><i class="fa fa-sort-asc fa-rotate-90 sidebar-link-dot"></i><a href="#" onclick="alert('Coming soon!');">Change camera</a></li>
                </ul>
            </div>

            <!--Playback Options-->
            <div class="sidebar-item" id="playback-header">
                <div class="sidebar-header">
                    <h2><i class="fa fa-play fa-fw"></i> Playback</h2>
                </div>
                <ul id="playback-options">
                    <li>
                        <label id="label-fr-change" for="input-fr-change">Frame rate</label>
                        <input id="input-fr-change" type="number" value="15">
                    </li>
                    <li>
                        <input id="loopCheckbox" type="checkbox" name="options" value="Download">
                        <label for="loopCheckbox">Loop frames on playback</label>
                    </li>
                </ul>
            </div>

            <!--Export Options-->
            <div class="sidebar-item" id="export-header">
                <div class="sidebar-header">
                    <h2><i class="fa fa-download fa-fw"></i> Export</h2>
                </div>
                <ul>
                    <li>Captured frames will be exported to:
                        <p id="currentDirectoryName" class="italics">No directory selected</p>
                    </li>
                    <li><i class="fa fa-sort-asc fa-rotate-90 sidebar-link-dot"></i><a href="#" onclick="changeDirectory()">Change directory</a></li>
                    <li><i class="fa fa-sort-asc fa-rotate-90 sidebar-link-dot"></i>
                        <a href="#" onclick="setDefaultDirectory()">Set as default directory</a>
                        <input id="chooseDirectory" style="display:none;" type="file" nwdirectory  />
                    </li>
                </ul>
            </div>

            <!--Debugging Options-->
            <div class="sidebar-item" id="debugging-header">
                <div class="sidebar-header">
                    <h2><i class="fa fa-heartbeat fa-fw"></i> Debugging</h2>
                </div>
                <ul>
                    <li><i class="fa fa-sort-asc fa-rotate-90 sidebar-link-dot"></i><a href="#" onclick="dev()">Load developer tools</a></li>
                    <li><i class="fa fa-sort-asc fa-rotate-90 sidebar-link-dot"></i><a href="#" onclick="reload()">Reload main window</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div id="main-event">
    <!--Capture Window-->
    <div id="captureWindow">
        <div id="onionSkinningLayer">
            <!--The actual onion skinning frame, injected through JS-->
            <img id="onion-skinning-frame" width="100%">
        </div>

        <!--The actual video stream -->
        <video id="preview">Video stream not available.</video>

        <!--2ND HIDDEN VIDEO STREAM TO ALLOW FOR VARIED RESOLUTIONS-->
        <video id="video">Video stream not available.</video>
        <!--HIDDEN CANVAS FOR CONVERSION TO PNG-->
        <canvas id="canvas"></canvas>
    </div>

    <!--Playback Window-->
    <div id="playbackWindow" class="hidden">
        <div id="playbackContainer">
            <!--The actual playback window -->
            <img id="playback">
            <p>Playback not avalable!</p>
<!--          NEEDS TO BE A NOTIFICATION INSTEAD!-->
        </div>
    </div>

    <!--Playback controls-->

    <div id="control-buttons">
        <div id="playback-controls">
            <div id="stopPlayback" class="mediaControls" title="Stop Playback"><i class="fa fa-stop"></i></div>
            <div id="playbackFrames" class="mediaControls" title="Playback Frames"><i class="fa fa-play"></i></div>
        </div>
      <div id="deleteLastFrame"><i class="fa fa-trash"></i> Delete last frame</div>
    </div>
    <div id="capture-control">
        <div id="captureFrame" class="fa-stack fa-lg" title="Capture Frame">
            <i class="fa fa-square fa-stack-2x"></i>
            <i class="fa fa-camera fa-stack-1x fa-inverse"></i>
        </div>
    </div>

    <!--Frame-reel container-->
    <div id="frame-reel-container">
        <div id="area-frame-reel">
            <p>No frames captured</p>
            <table class="hidden">
                <tr>
                    <td>
                       <div id="frame-reel-live">
                          <i class="fa fa-video-camera" "btn-mode-toggle" title="Live Preview" width="80" height="60" src="#"></i>
                        </div>
                    </td>
                  <!--This is where the frame is added through JS -->
                </tr>
            </table>
        </div>
    </div>
</div>
    
    <div id="statusBar">
        <ul>
            <li id="currentFrame">Current frame: <span>12</span></li>
            <li id="noOfFrames"><span>155</span> frames captured</li>
            <li class="no-pipe" id="currentFrameRate">Currently playing at <span></span> FPS</li>
            <li class="no-pipe" id="statusBar-credits"><a href="#" onclick="gui.Shell.openExternal('https://github.com/BoatsAreRockable/animator')">&copy; Charlie Lee 2015</a></li>
        </ul>
    </div>

    <div style="display: none;" class="output">
        <img id="photo" alt="The screen capture will appear in this box.">
    </div>
</body>
</html>
