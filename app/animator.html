<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <title>Boats Animator</title>
    <link rel="stylesheet" href="main.css">
</head>

<body class="animator" onload="startup()">
    <div class="content-flex">
        <section class="notification hidden">
            <p id="msg"></p>
        </section>

        <div id="collapsedSidebar">
            <button id="btn-sidebar-toggle" class="mediaControls"><img style="height: 100%;" src="icons/menu.svg"/></button>
        </div>

        <div id="sidebar">
            <ul>
                <li>
                    <h2><img width="15" height="15" src="icons/onionskin.svg"><span>Onion Skinning</span>
                        <div id="btn-onion-skin-toggle" class="btn-sidebar"><span>Off</span></div>
                    </h2>
                    <ul id="options-onion-skin">
                        <li><span>Amount: </span><span id="onion-skin-percentage">50%</span><input id="input-onion-skin-opacity" class="sidebarOption" type="range" name="onionSkinAmount" min="0" max="20" value="10">
                        </li>
                    </ul>
                </li>
                <li>
                    <h2><img width="15" height="15" src="icons/capture.svg"><span>Capture</span></h2>
                    <ul>
                        <li><a onclick="alert('Coming soon!');">Change resolution</a></li>
                        <li><a onclick="alert('Coming soon!');">Change camera</a></li>
                    </ul>
                </li>
                <li>
                    <h2><img width="15" height="15" src="icons/play.svg"><span>Playback</span></h2>
                    <ul>
                        <li>
                        <label id="label-fr-change" for="input-fr-change">Frame rate</label>
                        <input id="input-fr-change" type="number" value="15">
                        </li>
                        <li>
                        <input id="loopCheckbox" type="checkbox" name="options" value="Download">
                        <label for="loopCheckbox">Loop frames on playback</label>
                        </li>

                    </ul>
                </li>
                <li>
                    <h2><img width="15" height="15" src="icons/export.svg">Export</h2>
                    <ul>
                        <li>Captured frames will be exported to:
                            <p id="currentDirectoryName" class="italics">No directory selected</p>
                        </li>
                        <li><a href="#" onclick="changeDirectory()">Change directory</a></li>
                        <li>
                            <a href="#" onclick="setDefaultDirectory()">Set as default directory</a>
                            <input id="chooseDirectory" style="display:none;" type="file" nwdirectory  />
                        </li>
                    </ul>
                </li>
                <li>
                    <h2><img width="15" height="15" src="icons/debug.svg"><span>Debugging</span></h2>
                    <ul>
                        <li><a onclick="dev()">Load developer tools</a></li>
                        <li><a onclick="reload()">Reload main window</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <div id="captureWindow">
            <div id="onionSkinningLayer">
                <img id="onion-skinning-frame" width="100%" alt="Please capture your first frame to use onion skinning">
            </div>
            <div class="windowTitleContainer">
                <h2 id="captureTitle">Capture</h2>
            </div>
            <video id="preview" src="blanksquare.png">Video stream not available.</video>

            <!--2ND HIDDEN VIDEO STREAM TO ALLOW FOR VARIED RESOLUTIONS-->
            <video id="video">Video stream not available.</video>
            <!--HIDDEN CANVAS FOR CONVERSATION TO PNG-->
            <canvas id="canvas"></canvas>
        </div>

        <div id="playbackWindow" class="hidden">
            <div id="playbackContainer">
                <img id="playback" src="blanksquare.png">
            </div>
            <div class="windowTitleContainer">
                <h2 id="playbackTitle">Playback</h2>
            </div>
        </div>
    </div>

    <div id="column3">
        <div id="controls">
            <button id="captureFrame" title="Capture frame">Capture frame</button>
            <button id="deleteLastFrame" title="Delete last frame">Delete last frame</button>
            <button id="btn-mode-toggle" title="Playback / Capture Switch">Switch to playback mode</button>
            <button id="btn-stop" class="mediaControls"><img width="22" height="22" src="icons/stop.svg"/></button>
            <button id="btn-play-pause" class="mediaControls"><img width="22" height="22" src="icons/play.svg"></button>
        </div>
            <div id="capturedFramesContainer">
                <div id="area-frame-reel">
                    <p>No captured frames available.</p>
                    <table class="hidden">
                        <tr></tr>
                    </table>
              </div>
        </div>

        <div class="content-flex">
            <div id="statusBar">
                <ul>
                    <li id="noOfFrames"></li>
                    <li id="currentFrameRate">Currently playing at <span></span> FPS</li>
                    <li id="currentFrame">Playing frame 0</li>
                    <li style="float: right;"><span style="font-weight: 600;">Â©</span> Charlie Lee 2015</li>
                </ul>
            </div>

            <div style="display: none;" class="output">
                <img id="photo" alt="The screen capture will appear in this box.">
            </div>
        </div>
    </div>
    <script src="js/main.js" async></script>
</body>
</html>
